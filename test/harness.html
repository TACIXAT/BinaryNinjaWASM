<html>
  <head>
    <script>
      const buf = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 19, 4, 96, 0, 0, 96, 0, 1, 127, 96, 2, 127, 127, 1, 127, 96, 2, 127, 127, 0, 2, 19, 1, 7, 105, 109, 112, 111, 114, 116, 115, 7, 116, 114, 105, 103, 103, 101, 114, 0, 0, 3, 4, 3, 1, 2, 3, 5, 3, 1, 0, 8, 7, 16, 2, 3, 97, 100, 100, 0, 1, 6, 119, 104, 95, 109, 101, 109, 2, 0, 10, 59, 3, 10, 0, 65, 254, 255, 3, 65, 2, 16, 2, 11, 29, 0, 32, 0, 32, 1, 16, 3, 16, 0, 65, 0, 40, 2, 0, 33, 0, 65, 4, 40, 2, 0, 33, 1, 32, 0, 32, 1, 106, 11, 16, 0, 65, 0, 32, 0, 54, 2, 0, 65, 4, 32, 1, 54, 2, 0, 11]);

      let importObject = { 
        imports: { 
          logi32: (x) => console.log(x),
          trigger: () => {
            console.log('triggered');
            const arr = new Int32Array(instance.instance.exports.wh_mem.buffer);
            arr[0] = 10;
          },
        },
      };
      WebAssembly.instantiate(buf, importObject).then(
        instance => {
          window.instance = instance;
          console.log(instance.instance.exports.add());
        });
    </script>
  </head>
  <body>
  </body>
</html>